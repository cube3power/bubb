"use strict";!function(){function a(a,c){function d(b){var d,e,f,g,h,i,j=b.dataset.bubb,k=b.dataset.bubbMenu,l=k?k.indexOf(",")>-1?k.split(","):[k]:[j],m="";l.forEach(function(b){var j=b.trim(),l=a[j]||j,n=!!Array.isArray(l)&&l[1],o=n?l[0]:l,p=k&&c||n&&n.callback?' data-bubb-value="'+j+'"':"";m+="<div"+p+">"+o+"</div>",(n||Object.keys(a.globals).length)&&(f=f||n.callback||a.globals.callback,g=g||n.hoverCallback||a.globals.hoverCallback,d=d||n.background||a.globals.background,e=e||n.color||a.globals.color,h=h||n.transitionOff||a.globals.transitionOff,i=i||n.delay||a.globals.delay)});var n=document.createElement("aside");d&&(n.style.background=d,n.style.borderBottomColor=d),e&&(n.style.color=e),h&&b.classList.add("bubb-still"),i&&b.classList.add("bubb-delayed"),k&&b.classList.add("bubb-menu"),b.classList.add("bubb"),n.innerHTML=m,b.appendChild(n),(k&&c||f)&&(b.classList.add("bubb-interactive"),b.addEventListener(g?"mouseover":"click",function(b){var d=g,e=d?b.target.dataset.bubb:b.target.dataset.bubbValue||b.target.parentNode.dataset.bubbValue;if(e){var f=Array.isArray(a[e])?a[e][1]:{},h=f.callback||c;h(e,d?n:b.target.dataset.bubbValue?b.target:b.target.parentNode)}}))}if(a="object"==typeof a?a:{},c="function"==typeof c&&c,b(a)){a.globals=a.globals||{};var e=Array.from(document.querySelectorAll("[data-bubb], [data-bubb-menu]"));e.length&&e.forEach(d)}}function b(a){var b=!0;return Object.keys(a).forEach(function(c){var d=a[c],e="string"==typeof d,f=Array.isArray(d);if("globals"!==c||"object"!=typeof d)return e||f?f&&1===d.length?void(a[c]=d[0]):f&&"object"!=typeof d[1]?(console.log("bubb aborted: second parameter of config array should be an object"),void(b=!1)):void 0:(console.log("bubb aborted: config value should be string or array"),void(b=!1))}),b}"undefined"!=typeof exports&&null!==exports?exports.bubb=a:window.bubb=a}(this);