"use strict";!function(){function a(a,c){function d(b){var d,e,f,g,h,i=b.dataset.bubb,j=b.dataset.bubbMenu,k=j?j.indexOf(",")>-1?j.split(","):[j]:[i],l="";k.forEach(function(b){var i=b.trim(),k=a[i]||i,m=!!Array.isArray(k)&&k[1],n=m?k[0]:k,o=j&&c||m&&m.callback?' data-bubb-value="'+i+'"':"";l+="<div"+o+">"+n+"</div>",m&&(f=f||m.callback,g=g||m.hoverCallback,d=d||m.background,e=e||m.color,h=h||m.transitionOff)});var m=document.createElement("aside");d&&(m.style.background=d,m.style.borderBottomColor=d),e&&(m.style.color=e),h&&b.classList.add("bubb-still"),m.innerHTML=l,b.appendChild(m),b.classList.add("bubb"),j&&b.classList.add("bubb-menu"),(j&&c||f)&&(b.classList.add("bubb-interact"),b.addEventListener(g?"mouseover":"click",function(d){var e=f&&"click"!==f,g=e?d.target.dataset.bubb:d.target.dataset.bubbValue||d.target.parentNode.dataset.bubbValue;if(g){var h=Array.isArray(a[g])?a[g][1]:{},i=h.callback||c;i(g,e?b.querySelector("aside"):d.target.dataset.bubbValue?d.target:d.target.parentNode)}}))}if(a="object"==typeof a?a:{},c="function"==typeof c&&c,b(a)){var e=[].slice.call(document.querySelectorAll("[data-bubb], [data-bubb-menu]"));e.length&&e.forEach(d)}}function b(a){var b=!0;return Object.keys(a).forEach(function(c){var d=a[c],e="string"==typeof d,f=Array.isArray(d);return e||f?f&&1===d.length?void(a[c]=d[0]):f&&"object"!=typeof d[1]?(console.log("bubb aborted: second parameter of config array should be an object"),void(b=!1)):void 0:(console.log("bubb aborted: config value should be string or array"),void(b=!1))}),b}"undefined"!=typeof exports&&null!==exports?exports.bubb=a:window.bubb=a}(this);