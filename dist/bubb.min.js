/* by frdnrdb 2017-07-15T22:25:35.784Z */
"use strict";!function(){function a(a,c){function d(b){var d,e,f,g=b.dataset.bubb,h=b.dataset.bubbMenu,i=h?h.indexOf(",")>-1?h.split(","):[h]:[g],j="";i.forEach(function(b){var g=b.trim(),i=a[g],k=!!Array.isArray(i)&&i[1],l=k?i[0]:i,m=h&&c||k&&k.callback?' data-bubb-value="'+g+'"':"";j+="<div"+m+">"+l+"</div>",k&&(f=!!k.callback&&(k.hoverCallback?"mouseover":"click"),d=k.background,e=k.color)});var k=document.createElement("bubb");d&&(k.style.background=d,k.style.borderBottomColor=d),e&&(k.style.color=e),k.innerHTML=j,b.appendChild(k),b.classList.add("bubb"),(h&&c||f)&&(b.classList.add("bubb-menu"),b.addEventListener(f||"click",function(d){var e=f&&"click"!==f,g=e?d.target.dataset.bubb:d.target.dataset.bubbValue||d.target.parentNode.dataset.bubbValue;if(g){var h=Array.isArray(a[g])?a[g][1]:{},i=h.callback||c;i(g,e?b.querySelector("bubb"):d.target.dataset.bubbValue?d.target:d.target.parentNode)}}))}if(a="object"==typeof a?a:{},c="function"==typeof c&&c,b(a)){var e=[].slice.call(document.querySelectorAll("[data-bubb], [data-bubb-menu]"));e.length&&e.forEach(d)}}function b(a){var b=!0;return Object.keys(a).forEach(function(c){var d=a[c],e="string"==typeof d,f=Array.isArray(d);return e||f?f&&1===d.length?void(a[c]=d[0]):f&&"object"!=typeof d[1]?(console.log("bubb aborted: second parameter of config array should be an object"),void(b=!1)):void 0:(console.log("bubb aborted: config value should be a string or an array"),void(b=!1))}),b}"undefined"!=typeof exports&&null!==exports?exports.bubb=a:window.bubb=a}(this);