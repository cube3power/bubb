<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>Bubb</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<link rel="shortcut icon"type="image/x-icon" href="data:image/x-icon;,">
<link rel="stylesheet" href="/libs/css/tomorrow.min.css">
<script src="/libs/js/highlight.min.js"></script>
<link rel="stylesheet" href="demo.min.css">
<link rel="stylesheet" href="bubb.min.css">

</head>

<body>

  <span>
    <a href="https://twitter.com/intent/tweet?url=bubb.surge.sh&text=bubb%20infotip&hashtags=css,js,lightweight,simple">Twitter</a>
    <a href="https://github.com/frdnrdb/bubb">GitHub</a>
  </span>

  <header><b>Bubb</b> Infotip<span>CSS <i>and</i><i>or</i> JS</span></header>

  <section>
    <div class="bubb">CSS element<aside>Child element with <b>HTML</b> content</aside></div><i></i>
    <div bubb="Attribute only with pure text content">CSS attribute</div><i></i>
  </section>

  <section>
    <div data-bubb-menu="vedder, mccready, gossard, ament">JS menu</div><i></i>
    <div data-bubb="abbruzzese">JS callback on hover</div><i></i>
  </section>

  <i id="eventsDisplay"></i>

  <script src="bubb.min.js"></script>
  <script>

      // render <xmp> code blocks

      [].slice.call( document.getElementsByTagName('div') ).forEach( function(div) {

        var temp = document.createElement('temp');
            temp.appendChild(div.cloneNode(true));
        var pre = document.createElement('pre'),
            code = document.createElement('code');
            pre.appendChild(code);
            code.innerHTML = temp.innerHTML.replace(/</g,"&lt;").replace(/>/g,"&gt;");

            div.parentNode.insertBefore(pre, div.nextSibling.nextSibling);

      });

      // hide event-info

      var eventsDisplay = document.getElementById('eventsDisplay');

      document.addEventListener('click', function() {
        clearTimeout(eventsDisplay.hideTimeout);
        eventsDisplay.hideTimeout = setTimeout(function() {
          eventsDisplay.innerHTML = '';
        }, 2000);
      });

      // hide hover-info elements
    /*
      [].slice.call( document.querySelectorAll('section > i') ).forEach( function(i) {

        console.log(i);

      });
    */


  </script>
  <script id="demo">
      //  options are optional

      var options = {
            vedder: 'vocals',
            mccready: 'lead guitar',
            gossard: 'guitar',
            ament: 'bass',
            abbruzzese: ['', {
              callback: function(key, item) { // overrides main callback
                item.innerHTML = 'Loading...';
                var url = 'https://quotesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=1';
                fetch(url).then(function(res){ return res.json(); }).then(function(quotes){
                  item.innerHTML = quotes[0].content;
                });
              },
              transitionOff: true,
              hoverCallback: true,
              background: '#fad',
              color: '#444',
            }]
      };

      // initialize with bubb(), bubb(options) or bubb(options, callback);

      bubb(options, function(key, item) {
        /**/

        var eventsDisplay = document.getElementById('eventsDisplay');
        eventsDisplay.innerHTML = 'clicked ' + key;
        bubb.switch = !bubb.switch;
        eventsDisplay.setAttribute('switch', bubb.switch);

        /**/
        console.log('clicked ' + key);

      });

  </script>
  <script>

      // display bubb js demo code

      var pre = document.createElement('pre'),
          code = document.createElement('code');
          pre.appendChild(code);
          code.innerHTML = document.getElementById('demo').innerHTML.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\*\*\/[\s\S]*\/\*\*\//igm,'');

      document.querySelector('section:last-of-type').appendChild(pre);
      hljs.initHighlightingOnLoad();

  </script>

</body>
</html>
